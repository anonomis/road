// Generated by CoffeeScript 1.6.2
(function() {
  var Node, root;

  root = this;

  Node = (function() {
    function Node(pos, target) {
      this.pos = pos;
      this.target = target;
      this.line = L(this.target, this.pos);
      this.ctrl = this.line.growAdd(50).p1;
      if (nodes[this.pos.x] == null) {
        root.nodes[this.pos.x] = [];
      }
      root.nodes[this.pos.x][this.pos.y] = this;
      layers.node.drawNode(this);
      layers.nodeSnap.addNodeSnapper(this);
    }

    Node.prototype.over = function() {
      var _base;

      if (typeof (_base = tools.current).over === "function") {
        _base.over(this);
      }
      layers.tool.drawNode(this, true);
      return console.log("in", this);
    };

    Node.prototype.out = function() {
      var _base;

      if (typeof (_base = tools.current).out === "function") {
        _base.out(this);
      }
      layers.tool.clear();
      return console.log("out", this);
    };

    return Node;

  })();

  root.ents = {};

  root.ents.Node = Node;

  root.nodes = [];

}).call(this);
