// Generated by CoffeeScript 1.6.2
(function() {
  var hotkeys, r, registerHotkey, req, root;

  root = this;

  req = {
    0: ['geometry', 'paper', 'tools', 'entities'],
    1: ['raphael'],
    2: ['layers']
  };

  r = requirejs;

  r(req[0], function() {
    return r(req[1], function() {
      return r(req[2], function() {
        $("#nodeSnap").click(function(e) {
          var _base;

          return typeof (_base = tools.current).click === "function" ? _base.click(e) : void 0;
        });
        $("#nodeSnap").mousemove(function(e) {
          var _base;

          return typeof (_base = tools.current).move === "function" ? _base.move(e) : void 0;
        });
        $(window).keydown(function(e) {
          var _base;

          return typeof (_base = tools.current).keyDown === "function" ? _base.keyDown(e) : void 0;
        });
        new ents.Node(P(100, 80), P(100, 10));
        new ents.Node(P(151, 194), P(115, 198));
        return new tools.CommonTool();
      });
    });
  });

  hotkeys = {};

  $(window).keypress(function(e) {
    var _name;

    console.log(e.which);
    return typeof hotkeys[_name = event.which] === "function" ? hotkeys[_name]() : void 0;
  });

  registerHotkey = function(key, func) {
    return hotkeys[key] = func;
  };

  registerHotkey(113, function() {
    return new tools.CommonTool();
  });

}).call(this);
